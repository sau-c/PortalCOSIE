@model IEnumerable<PortalCOSIE.Domain.Entities.EstadoDocumento>

<div class="d-flex justify-content-end mt-3">
    <button type="button"
            class="btn btn-sm btn-success generic-create"
            data-title="Crear estado de documento"
            data-action="@Url.Action("EstadosDocumento", "Configuracion")"
            data-placeholder="Nombre del estado"
            data-icon="fas fa-file-alt">
        <i class="fas fa-plus me-1"></i> Crear
    </button>
</div>

<table id="tblEstadosDocumento" class="table table-hover table-bordered">
    <thead class="table-secondary">
        <tr class="small">
            <th>Id</th>
            <th>Nombre</th>
            <th>Estatus</th>
            <th>Acción</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var estado in Model)
        {
            <tr class="small" style="@(estado.IsDeleted ? "background-color: #ffd4d4" : "")">
                <td>@estado.Id</td>
                <td>@estado.Nombre</td>
                <td>
                    <span class="badge @(estado.IsDeleted ? "bg-danger" : "bg-success") badge-role">
                        @(estado.IsDeleted ? "Inactivo" : "Activo")
                    </span>
                </td>
                <td class="text-end">
                    <button type="button"
                            class="btn btn-sm btn-outline-primary generic-edit"
                            title="Editar"
                            data-title="Editar estado documento"
                            data-action="@Url.Action("EditarEstadoDocumento", "Configuracion")"
                            data-id="@estado.Id"
                            data-nombre="@estado.Nombre"
                            data-placeholder="Nombre del estado"
                            data-icon="fas fa-file-alt">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button type="button"
                            class="btn btn-sm @(estado.IsDeleted ? "btn-outline-success" : "btn-outline-danger") generic-toggle"
                            title="@(estado.IsDeleted ? "Activar" : "Desactivar")"
                            data-action="@Url.Action("ToggleEstadoDocumento", "Configuracion")"
                            data-id="@estado.Id"
                            data-name="@estado.Nombre"
                            data-estado-actual="@estado.IsDeleted"
                            data-entity="estado">
                        <i class="fas @(estado.IsDeleted ? "fa-eye" : "fa-eye-slash")"></i>
                    </button>
                </td>
            </tr>
        }
    </tbody>
</table>

<script>
    $(document).ready(function () {
        // Configuración de DataTable
        $('#tblEstadosDocumento').DataTable({
            language: {
                url: '//cdn.datatables.net/plug-ins/2.3.2/i18n/es-MX.json',
            },
            searching: false,
            paging: false,
            scrollCollapse: true,
            scrollY: 'calc(100vh - 445px)',
            columnDefs:
            [
                { targets: 0, width: "1%" },
                { targets: 2, width: "1%", className: "text-center",},
                {
                    targets: 3,
                    width: "95px",
                    className: "text-center",
                    orderable: false
                }
            ]
        });
    });
</script>